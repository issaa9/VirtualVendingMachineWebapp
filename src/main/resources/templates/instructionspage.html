<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="eng">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/general_styles.css}">
    <link rel="stylesheet" th:href="@{/css/instructionspage_styles.css}">
    <title>Instructions Page</title>
</head>

<body>

    <!-- H1 Heading for Webapp Title -->
    <header>
        <h1 class="webapp-title">Virtual Vending Machine Webapp</h1>
    </header>

    <!-- Display Logged-In User -->
    <div class="user-info">
        <p>Logged In As: <span th:text="${username}">Guest</span></p>
    </div>

    <!-- Main Content -->
    <main>
        <h2>Instructions</h2>

        <!-- PDF Viewer -->
        <div class="pdf-container" id="pdfContainer">
            <iframe class="pdf-viewer" id="pdfViewer" src="/pdf/Vending_Machine_User_Manual.pdf" width="100%" height="100%"></iframe>
        </div>

        <div class="pdf-controls">
            <button onclick="toggleFullscreen()">Fullscreen</button>
        </div>

        <!-- Download Button -->
        <div class="download-container">
            <a href="/pdf/Vending_Machine_User_Manual.pdf" download>
                <button>Download User Manual (PDF)</button>
            </a>
        </div>

        <!-- Home Button -->
        <a th:href="@{/home}" class="home-button-link">
            <button class="home-button">Home</button>
        </a>


    </main>
    <script>

        <!-- JavaScript function for enabling full screen view -->
        function toggleFullscreen() {
            const container = document.getElementById("pdfContainer");
            if (!document.fullscreenElement) {
                container.requestFullscreen().catch(err => {
                    alert(`Error attempting fullscreen: ${err.message}`);
                });
            } else {
                document.exitFullscreen();
            }
        }
    </script>

</body>
</html>