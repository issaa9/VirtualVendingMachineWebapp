<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="eng">
<head>
    <meta charset="UTF-8">
    <title>User Analytics</title>
    <link rel="stylesheet" th:href="@{/css/general_styles.css}">
    <link rel="stylesheet" th:href="@{/css/analyticspage_styles.css}">
</head>
<body>

<header>

    <h1 class="webapp-title">Virtual Vending Machine Webapp</h1>

    <!-- Display Logged-In User -->
    <div class="user-info">
        <p>Logged In As: <span th:text="${username}">Guest</span></p>
    </div>
</header>


<main>
    <h2 class="page-heading">Your Analytics</h2>

    <div class="analytics-container">

        <!-- Summary (Cards) Section -->
        <section class="summary-section">
            <h3 class="section-title">Purchase Summary</h3>
            <div class="summary-card-container">
                <div class="summary-card">
                    <div class="card-stat" id="totalPurchases">--</div>
                    <div class="card-label">Total Purchases</div>
                </div>
                <div class="summary-card">
                    <div class="card-stat" id="totalSpent">--</div>
                    <div class="card-label">Total Spent</div>
                </div>
                <div class="summary-card">
                    <div class="card-stat" id="activeDay">--</div>
                    <div class="card-label">Most Active Day</div>
                </div>
                <div class="summary-card">
                    <div class="card-stat" id="uniqueItems">--</div>
                    <div class="card-label">Unique Items Purchased</div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- Other analytics sections to be added in here -->
        <section>
            <h3 class="section-title">Purchase Frequency</h3>
            <div id="purchaseFrequencyGraph"></div>
        </section>

        <div class="section-divider"></div>

        <section>
            <h3 class="section-title">Spending Trend</h3>
            <div id="spendingTrendGraph"></div>
        </section>

        <div class="section-divider"></div>

    </div>
</main>

<!-- Home Button -->
<a th:href="@{/home}" class="home-button-link">
    <button class="home-button">Home</button>
</a>

<script th:src="@{/scripts/analytics_script.js}"></script>
</body>
</html>

